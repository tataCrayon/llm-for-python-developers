# 向量数据库选型

常见选择有Faiss、Chroma、Weaviate。

这里冗余放一下之前的笔记。
掘金（RAG轻松通-P3：向量数据库）：https://juejin.cn/post/7517029959387643954

简单来说，Faiss和Chroma都是嵌入式的，而Weaviate是服务器式的。
这里介绍一下Faiss和Chroma:

- 存储大小
以现在快速试错的应用情况来说，使用Faiss和Chroma是够用的。
Faiss能处理百万级到十亿级向量，Chroma能处理十万到百万级向量。以768维的向量为例，至少也是4GB起的。10亿级数据量约为6TB。
计算公式： 向量大小+索引大小+元数据大小
一个 768 维向量的大小 = 768 × 4 字节 = 3,072 字节 ≈ 3 KB。
索引大小：大概多10~50%存储需求（AI给的数据）。
元数据大小：视情况而定。
这两个向量数据库是分层存储结构，Faiss 通常搭配外部数据库存储元数据。Faiss 本身主要负责向量和索引，实际容量可能略低。
Chroma 内置元数据存储（通常基于 SQLite 或内存）。

| **向量数据库**  | **向量数量** | **数据容量（向量 + 元数据）** | **典型场景**      |
| ---------- | -------- | ------------------ | ------------- |
| **Faiss**  | 100 万    | 4-6 GB             | 中小型知识库、推荐系统   |
|            | 10 亿     | 4-6 TB             | 大规模推荐、图像搜索    |
| **Chroma** | 10 万     | 400-600 MB         | 小型 RAG、FAQ 系统 |
|            | 100 万    | 4-6 GB             | 中型知识库、语义搜索    |


- 元数据原理
Faiss设计是专注于高效索引和检索，没有元数据管理。
Chroma有元数据管理功能。

- AI汇总

| **特性**    | **Faiss**                      | **Chroma**                           |
| --------- | ------------------------------ | ------------------------------------ |
| **类型**    | 向量搜索库，专注于高效索引和检索               | 嵌入式向量数据库，强调易用性和完整功能                  |
| **性能**    | 极高，支持亿级向量，GPU 加速               | 适合中小规模（百万级以下），无 GPU 支持               |
| **索引算法**  | 多种（Flat、IVF、HNSW、PQ 等），高度可定制   | 默认 HNSW，简单配置                         |
| **元数据管理** | 无内置支持，需外部数据库（如 PostgreSQL）     | 内置支持，元数据存储和查询简单                      |
| **易用性**   | 需要手动配置索引和元数据管理，适合有经验的开发者       | 高层次 API，易于快速开发和集成                    |
| **动态更新**  | 部分索引不支持动态更新，需重建索引              | 支持动态增删改                              |
| **存储方式**  | 仅存储向量，需外部持久化方案                 | 支持内存和持久化存储（如 SQLite）                 |
| **适用场景**  | 大规模、高性能向量搜索（如推荐系统、图像搜索）        | RAG、语义搜索、快速原型开发                      |
| **生态集成**  | 适合机器学习框架（如 PyTorch、TensorFlow） | 与 LangChain、Hugging Face 等 AI 框架集成良好 |
| **开源许可证** | MIT                            | Apache 2.0                           |




