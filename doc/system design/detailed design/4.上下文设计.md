# Query改写

## RAG检索问题改写

将用户可能模糊、口语化、复杂的单个问题，分解成一组清晰、具体、原子化，并且适合向量检索的子问题。

## LLM问题改写

用户Query是否需要优化呢？还是让LLM自行理解？推理？   
我的理解是：

- 简单的问题，不需要优化，让LLM自行理解。
- 复杂的问题，越是在对话的后期越是不需要自行推理。

# Prompt 管理系统 (Prompt Management System - PMS)

除了CURD。
“提示词”可能还需要支持的点有：

- 版本管理：允许回溯到旧版本，比较不同版本间的差异。
- 搜索过滤：方便查找特定 Prompt。
- A/B 测试配置：允许配置将特定流量路由到不同的 Prompt 版本。
- 权限管理：谁可以查看、编辑、发布 Prompt。
- 审核流程：对 Prompt 的修改进行审核。

## Prompt存储

为支持更多的功能，应当使用结构化设计。

Prompt 像代码一样，需要迭代和优化，需要记录历史版本。

# Prompt处理设计

项目的Prompt应当以引导用户使用最佳框架为主。

对于RAG部分的Prompt,应当做问题分类抽象，做同一分类的约束optimize，以更好地基于场景问题进行Chunk与Retrieval、Gneration。

总的迭代过程参考：Evol-Instruct。